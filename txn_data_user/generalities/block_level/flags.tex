We describe ``block level'' generalities. We require some shorthands:
\[
	\left\{ \begin{array}{lcl}
		\blockCycleSum _{i} & \define &
		\left[ \begin{array}{cl}
			+ & \blockIsEmpty  _{i} \\
			+ & \blockNonempty _{i} \\
		\end{array} \right]
		\vspace{2mm}
		\\
		\blockNonempty _{i} & \define &
		\left[ \begin{array}{cl}
			+ & \transactionProcessing _{i} \\
			+ & \transactionAccounting _{i} \\
		\end{array} \right]
	\end{array} \right.
\]
We impose that
\begin{enumerate}
	\item $\blockCycleSum$ is binary
	\item $\blockCycleSum _{0} = 0$
	\item \If $\blockCycleSum _{i} = 0$ \Then $\transactionAccounting _{i + 1} = 0$
	\item \If $\blockCycleSum _{i} = 1$ \Then $\blockCycleSum   _{i + 1} = 1$
\end{enumerate}
\saNote{} \label{user txn data: generalities: block cycle: blocks start with empty or processing phase}
As per usual we define \textbf{padding-rows} to be those rows where ``$\blockCycleSum _{i} = 0$'' and
\textbf{non-padding-rows} to be those rows where ``$\blockCycleSum _{i} = 1$.''
The above thus enforces that at the transition of padding-rows to non-padding-rows either 
\blockIsEmpty{} or
\transactionProcessing{}
turns on (and not \transactionAccounting{}.)

We next describe ``block level flag transitions.''
\begin{enumerate}[resume]
	\item
		\label{user txn data: generalities: block level: flags: legal transitions}
		we impose that
		\[
			\hspace*{-1cm}
			\left\{ \begin{array}{llllllr}
				\If \blockIsEmpty    _{i} \!\!\! & = 1 & \Then \!\!\! & + ~ \blockIsEmpty    _{i + 1} \!\!\! & + ~ \transactionProcessing _{i + 1} \!\!\! &                               \!\!\! & = 1 \\
				\If \transactionProcessing _{i} \!\!\! & = 1 & \Then \!\!\! &                               \!\!\! & + ~ \transactionProcessing _{i + 1} \!\!\! & + ~ \transactionAccounting _{i + 1} \!\!\! & = 1 \\
				\If \transactionAccounting _{i} \!\!\! & = 1 & \Then \!\!\! & + ~ \blockIsEmpty    _{i + 1} \!\!\! & + ~ \transactionProcessing _{i + 1} \!\!\! &                               \!\!\! & = 1 \\
			\end{array} \right.
		\]
\end{enumerate}
We further impose finalization constraints:
\begin{enumerate}[resume]
	\item $\transactionProcessing _{N} = 0$
\end{enumerate}
\saNote{}
The above is a slightly more succinct way of imposing the following, ``proper'', finalization constraint:
	\[
		``\If \blockCycleSum _{N} = 1 ~ \Then \blockIsEmpty _{N} + \transactionAccounting _{N} = 1"
		\quad (\sanityCheck)
	\]
which assserts that we must terminate on either an empty block or the ``block-accounting'' row of a nonempty block.
