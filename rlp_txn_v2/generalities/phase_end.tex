We define the following shorthands:
\[
    \left\{ \begin{array}{lcl}
        \locValidPhaseTransitionTypeZero _{i} & \define &
        \left[ \begin{array}{clcl}
            + & \phaseRlpPrefix _{i} & \cdot & \phaseNonce     _{i + 1} \\
            + & \phaseNonce     _{i} & \cdot & \phaseGasPrice  _{i + 1} \\
            + & \phaseGasPrice  _{i} & \cdot & \phaseGasLimit  _{i + 1} \\
            + & \phaseGasLimit  _{i} & \cdot & \phaseTo        _{i + 1} \\
            + & \phaseTo        _{i} & \cdot & \phaseValue     _{i + 1} \\
            + & \phaseValue     _{i} & \cdot & \phaseData      _{i + 1} \\
            + & \phaseData      _{i} & \cdot & \phaseBeta      _{i + 1} \\
            + & \phaseBeta      _{i} & \cdot & \phaseR         _{i + 1} \\
            + & \phaseR         _{i} & \cdot & \phaseS         _{i + 1} \\
            + & \phaseS         _{i} & \cdot & \phaseRlpPrefix _{i + 1} \\
        \end{array} \right]
        \vspace{2mm} \\
        \locWillRemainInSamePhaseTypeZero _{i} & \define &
        \left[ \begin{array}{clcl}
            + & \phaseRlpPrefix _{i} & \cdot & \phaseRlpPrefix _{i + 1} \\
            + & \phaseNonce     _{i} & \cdot & \phaseNonce     _{i + 1} \\
            + & \phaseGasPrice  _{i} & \cdot & \phaseGasPrice  _{i + 1} \\
            + & \phaseGasLimit  _{i} & \cdot & \phaseGasLimit  _{i + 1} \\
            + & \phaseTo        _{i} & \cdot & \phaseTo        _{i + 1} \\
            + & \phaseValue     _{i} & \cdot & \phaseValue     _{i + 1} \\
            + & \phaseData      _{i} & \cdot & \phaseData      _{i + 1} \\
            + & \phaseBeta      _{i} & \cdot & \phaseBeta      _{i + 1} \\
            + & \phaseR         _{i} & \cdot & \phaseR         _{i + 1} \\
            + & \phaseS         _{i} & \cdot & \phaseS         _{i + 1} \\
        \end{array} \right]
        \\
    \end{array} \right.
\]
and
\[
    \left\{ \begin{array}{lcl}
        \locValidPhaseTransitionTypeOne _{i} & \define &
        \left[ \begin{array}{clcl}
            + & \phaseRlpPrefix  _{i} & \cdot & \phaseChainId    _{i + 1} \\
            + & \phaseChainId    _{i} & \cdot & \phaseNonce      _{i + 1} \\
            + & \phaseNonce      _{i} & \cdot & \phaseGasPrice   _{i + 1} \\
            + & \phaseGasPrice   _{i} & \cdot & \phaseGasLimit   _{i + 1} \\
            + & \phaseGasLimit   _{i} & \cdot & \phaseTo         _{i + 1} \\
            + & \phaseTo         _{i} & \cdot & \phaseValue      _{i + 1} \\
            + & \phaseValue      _{i} & \cdot & \phaseData       _{i + 1} \\
            + & \phaseData       _{i} & \cdot & \phaseAccessList _{i + 1} \\
            + & \phaseAccessList _{i} & \cdot & \phaseY          _{i + 1} \\
            + & \phaseY          _{i} & \cdot & \phaseR          _{i + 1} \\
            + & \phaseR          _{i} & \cdot & \phaseS          _{i + 1} \\
            + & \phaseS          _{i} & \cdot & \phaseRlpPrefix  _{i + 1} \\
        \end{array} \right]
        \vspace{2mm} \\
        \locWillRemainInSamePhaseTypeOne _{i} & \define &
        \left[ \begin{array}{clcl}
            + & \phaseRlpPrefix  _{i} & \cdot & \phaseChainId    _{i + 1} \\
            + & \phaseChainId    _{i} & \cdot & \phaseNonce      _{i + 1} \\
            + & \phaseNonce      _{i} & \cdot & \phaseGasPrice   _{i + 1} \\
            + & \phaseGasPrice   _{i} & \cdot & \phaseGasLimit   _{i + 1} \\
            + & \phaseGasLimit   _{i} & \cdot & \phaseTo         _{i + 1} \\
            + & \phaseTo         _{i} & \cdot & \phaseValue      _{i + 1} \\
            + & \phaseValue      _{i} & \cdot & \phaseData       _{i + 1} \\
            + & \phaseData       _{i} & \cdot & \phaseAccessList _{i + 1} \\
            + & \phaseAccessList _{i} & \cdot & \phaseY          _{i + 1} \\
            + & \phaseY          _{i} & \cdot & \phaseR          _{i + 1} \\
            + & \phaseR          _{i} & \cdot & \phaseS          _{i + 1} \\
            + & \phaseS          _{i} & \cdot & \phaseRlpPrefix  _{i + 1} \\
        \end{array} \right]
        \\
    \end{array} \right.
\]
and
\[
    \hspace*{-2cm}
    \left\{ \begin{array}{lcl}
        \locValidPhaseTransitionTypeTwo _{i} & \define &
        \left[ \begin{array}{clcl}
            + & \phaseRlpPrefix            _{i} & \cdot & \phaseChainId              _{i + 1} \\
            + & \phaseChainId              _{i} & \cdot & \phaseNonce                _{i + 1} \\
            + & \phaseNonce                _{i} & \cdot & \phaseMaxPriorityFeePerGas _{i + 1} \\
            + & \phaseMaxPriorityFeePerGas _{i} & \cdot & \phaseMaxFeePerGas         _{i + 1} \\
            + & \phaseMaxFeePerGas         _{i} & \cdot & \phaseGasLimit             _{i + 1} \\
            + & \phaseGasLimit             _{i} & \cdot & \phaseTo                   _{i + 1} \\
            + & \phaseTo                   _{i} & \cdot & \phaseValue                _{i + 1} \\
            + & \phaseValue                _{i} & \cdot & \phaseData                 _{i + 1} \\
            + & \phaseData                 _{i} & \cdot & \phaseAccessList           _{i + 1} \\
            + & \phaseAccessList           _{i} & \cdot & \phaseY                    _{i + 1} \\
            + & \phaseY                    _{i} & \cdot & \phaseR                    _{i + 1} \\
            + & \phaseR                    _{i} & \cdot & \phaseS                    _{i + 1} \\
            + & \phaseS                    _{i} & \cdot & \phaseRlpPrefix            _{i + 1} \\
        \end{array} \right]
        \vspace{2mm} \\
        \locWillRemainInSamePhaseTypeTwo _{i} & \define &
        \left[ \begin{array}{clcl}
            + & \phaseRlpPrefix            _{i} & \cdot & \phaseRlpPrefix            _{i + 1} \\
            + & \phaseChainId              _{i} & \cdot & \phaseChainId              _{i + 1} \\
            + & \phaseNonce                _{i} & \cdot & \phaseNonce                _{i + 1} \\
            + & \phaseMaxPriorityFeePerGas _{i} & \cdot & \phaseMaxPriorityFeePerGas _{i + 1} \\
            + & \phaseMaxFeePerGas         _{i} & \cdot & \phaseMaxFeePerGas         _{i + 1} \\
            + & \phaseGasLimit             _{i} & \cdot & \phaseGasLimit             _{i + 1} \\
            + & \phaseTo                   _{i} & \cdot & \phaseTo                   _{i + 1} \\
            + & \phaseValue                _{i} & \cdot & \phaseValue                _{i + 1} \\
            + & \phaseData                 _{i} & \cdot & \phaseData                 _{i + 1} \\
            + & \phaseAccessList           _{i} & \cdot & \phaseAccessList           _{i + 1} \\
            + & \phaseY                    _{i} & \cdot & \phaseY                    _{i + 1} \\
            + & \phaseR                    _{i} & \cdot & \phaseR                    _{i + 1} \\
            + & \phaseS                    _{i} & \cdot & \phaseS                    _{i + 1} \\
        \end{array} \right]
        \\
    \end{array} \right.
\]
and we set
\[
    \left\{ \begin{array}{lcl}
        \locValidPhaseTransition _{i} & \define &
        \left[ \begin{array}{clcl}
            + & \typeZeroTx _{i} & \cdot & \locValidPhaseTransitionTypeZero _{i} \\
            + & \typeOneTx  _{i} & \cdot & \locValidPhaseTransitionTypeOne  _{i} \\
            + & \typeTwoTx  _{i} & \cdot & \locValidPhaseTransitionTypeTwo  _{i} \\
        \end{array} \right]
        \vspace{2mm} \\
        \locWillRemainInSamePhase _{i} & \define &
        \left[ \begin{array}{clcl}
            + & \typeZeroTx _{i} & \cdot & \locWillRemainInSamePhaseTypeZero _{i} \\
            + & \typeOneTx  _{i} & \cdot & \locWillRemainInSamePhaseTypeOne  _{i} \\
            + & \typeTwoTx  _{i} & \cdot & \locWillRemainInSamePhaseTypeTwo  _{i} \\
        \end{array} \right]
        % \left[ \begin{array}{clcl}
        %     + & \phaseRlpPrefix            _{i} & \cdot \typeZeroTx _{i}                     & \cdot \phaseNonce                _{i + 1} \\
        %     + & \phaseRlpPrefix            _{i} & \cdot (\typeOneTx _{i} + \typeTwoTx _{i})  & \cdot \phaseChainId              _{i + 1} \\
        %     + & \phaseChainId              _{i} &                                            & \cdot \phaseNonce                _{i + 1} \\
        %     + & \phaseNonce                _{i} & \cdot (\typeZeroTx _{i} + \typeOneTx _{i}) & \cdot \phaseGasPrice             _{i + 1} \\
        %     + & \phaseNonce                _{i} & \cdot \typeTwoTx _{i}                      & \cdot \phaseMaxPriorityFeePerGas _{i + 1} \\
        %     + & \phaseGasPrice             _{i} &                                            & \cdot \phaseGasLimit             _{i + 1} \\
        %     + & \phaseMaxPriorityFeePerGas _{i} &                                            & \cdot \phaseMaxFeePerGas         _{i + 1} \\
        %     + & \phaseMaxFeePerGas         _{i} &                                            & \cdot \phaseGasLimit             _{i + 1} \\
        %     + & \phaseGasLimit             _{i} &                                            & \cdot \phaseTo                   _{i + 1} \\
        %     + & \phaseTo                   _{i} &                                            & \cdot \phaseValue                _{i + 1} \\
        %     + & \phaseValue                _{i} &                                            & \cdot \phaseData                 _{i + 1} \\
        %     + & \phaseData                 _{i} & \cdot \typeZeroTx _{i}                     & \cdot \phaseBeta                 _{i + 1} \\
        %     + & \phaseData                 _{i} & \cdot (\typeOneTx _{i} + \typeTwoTx _{i})  & \cdot \phaseAccessList           _{i + 1} \\
        %     + & \phaseAccessList           _{i} &                                            & \cdot \phaseY                    _{i + 1} \\
        %     + & \phaseBeta                 _{i} &                                            & \cdot \phaseR                    _{i + 1} \\
        %     + & \phaseY                    _{i} &                                            & \cdot \phaseR                    _{i + 1} \\
        %     + & \phaseR                    _{i} &                                            & \cdot \phaseS                    _{i + 1} \\
        %     + & \phaseS                    _{i} &                                            & \cdot \phaseRlpPrefix            _{i + 1} \\
        % \end{array} \right]
    \end{array} \right.
\]
and we impose the following:
\begin{enumerate}
    \item
        $\locValidPhaseTransition _{i}$ is binary \quad (\sanityCheck)
    \item \label{rlp txn v2: generalities: PHASE_END constraints}
        $\phaseEnd_{i} = \locValidPhaseTransition_{i}$
\end{enumerate}
\saNote{}
The above constraint~(\ref{rlp txn v2: generalities: PHASE_END constraints})
must be understood as follows: rather than \textbf{constraining} \phaseEnd{},
the constraints will often times \textbf{set} the value of \phaseEnd{} and thereby force a phase transition upon the module.

In other words, a phase transition happens if and only if $\phaseEnd_{i} = 1$ and means $\phase{p}_{i} = 1$ and $\phase{q}_{i + 1} = 1$ with the only given possibility for p and q, depending of $\rlpTxnTransactionColumnTxType$:
\begin{table}[h]
    \centering
    \renewcommand{\arraystretch}{1.5}
    \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|} \hline
        $\phase{p}_{i}$                                                & 0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9  & 10 & 11 & 12 & 13 & 14 \\ \hline \hline
        $\phase{q}_{i + 1}$ (for $\rlpTxnTransactionColumnTxType = 0$) & 2 &   & 3 & 6 &   &   & 7 & 8 & 9 & 11 &    & 13 &    & 14 & 0  \\ \hline
        $\phase{q}_{i + 1}$ (for $\rlpTxnTransactionColumnTxType = 1$) & 1 & 2 & 3 & 6 &   &   & 7 & 8 & 9 & 10 & 12 &    & 13 & 14 & 0  \\ \hline
        $\phase{q}_{i + 1}$ (for $\rlpTxnTransactionColumnTxType = 2$) & 1 & 2 & 4 &   & 5 & 6 & 7 & 8 & 9 & 10 & 12 &    & 13 & 14 & 0  \\ \hline
    \end{tabular}
    \caption{Possible phase transition}
    \label{tab:Possible phase transition}
\end{table}
