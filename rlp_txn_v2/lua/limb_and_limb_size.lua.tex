% !TeX TS-program = lualatex
\documentclass[varwidth=\maxdimen,margin=0.5cm,multi={verbatim}]{standalone}

\usepackage{fontspec}
\directlua{luaotfload.add_fallback
   ("emojifallback",
    {
      "NotoColorEmoji:mode=harf;"
    }
   )}

\setmonofont{JetBrains Mono NL Regular}[
  RawFeature={fallback=emojifallback}
]

\usepackage{../../pkg/draculatheme}


\begin{document}
\begin{verbatim}

██\       ██████\ ██\      ██\ ███████\                                  ██\
██ |      \_██  _|███\    ███ |██  __██\                                 ██ |
██ |        ██ |  ████\  ████ |██ |  ██ |       ██████\  ███████\   ███████ |
██ |        ██ |  ██\██\██ ██ |███████\ |       \____██\ ██  __██\ ██  __██ |
██ |        ██ |  ██ \███  ██ |██  __██\        ███████ |██ |  ██ |██ /  ██ |
██ |        ██ |  ██ |\█  /██ |██ |  ██ |      ██  __██ |██ |  ██ |██ |  ██ |
████████\ ██████\ ██ | \_/ ██ |███████  |      \███████ |██ |  ██ |\███████ |
\________|\______|\__|     \__|\_______/        \_______|\__|  \__| \_______|



          ███████\ ██\     ██\ ████████\ ████████\  ██████\
          ██  __██\\██\   ██  |\__██  __|██  _____|██  __██\
███████\  ██ |  ██ |\██\ ██  /    ██ |   ██ |      ██ /  \__|
██  __██\ ███████\ | \████  /     ██ |   █████\    \██████\
██ |  ██ |██  __██\   \██  /      ██ |   ██  __|    \____██\
██ |  ██ |██ |  ██ |   ██ |       ██ |   ██ |      ██\   ██ |
██ |  ██ |███████  |   ██ |       ██ |   ████████\ \██████  |
\__|  \__|\_______/    \__|       \__|   \________| \______/



██\            ██\                                                        ██\                ██\     ██\
\__|           ██ |                                                       ██ |               ██ |    \__|
██\ ███████\ ██████\    ██████\   ██████\   ██████\   ██████\   ██████\ ██████\    ██████\ ██████\   ██\  ██████\  ███████\
██ |██  __██\\_██  _|  ██  __██\ ██  __██\ ██  __██\ ██  __██\ ██  __██\\_██  _|   \____██\\_██  _|  ██ |██  __██\ ██  __██\
██ |██ |  ██ | ██ |    ████████ |██ |  \__|██ /  ██ |██ |  \__|████████ | ██ |     ███████ | ██ |    ██ |██ /  ██ |██ |  ██ |
██ |██ |  ██ | ██ |██\ ██   ____|██ |      ██ |  ██ |██ |      ██   ____| ██ |██\ ██  __██ | ██ |██\ ██ |██ |  ██ |██ |  ██ |
██ |██ |  ██ | \████  |\███████\ ██ |      ███████  |██ |      \███████\  \████  |\███████ | \████  |██ |\██████  |██ |  ██ |
\__|\__|  \__|  \____/  \_______|\__|      ██  ____/ \__|       \_______|  \____/  \_______|  \____/ \__| \______/ \__|  \__|
                                           ██ |
                                           ██ |
                                           \__|


|--------------------------------------------------------------------+--------+----------+-----------------+----+----|
| LIMB                                                               | nBYTES | INDEX_Lζ | USER_TXN_NUMBER | LC | Lζ |
|--------------------------------------------------------------------+-------:+:--------:+:---------------:+:--:+:--:|
| .   <------------      byte index within limb       ------------>  |
| .   16  15  14  13  12  11  10  9   8   7   6   5   4   3   2   1  |
| .   ↓   ↓   ↓   ↓   ↓   ↓   ↓   ↓   ↓   ↓   ↓   ↓   ↓   ↓   ↓   ↓  |
|--------------------------------------------------------------------+--------+----------+-----------------+----+----|
| .                                 ⋮                                |        |          |                 |    |    |
|                                                                    |        |          |                 |    |    |
|                                                                    |        |          |      a - 1      |    |    |
|--------------------------------------------------------------------+--------+----------+-----------------+----+----|
|                                                                    |        |          |        a        |    |    |
|                                                                    |        |          |        a        |    |    |
| 0x  kk  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  .. |      1 |     0    |        a        |  1 |  1 |
| 0x  ll  ll  ll  ll  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  .. |      4 |     1    |        a        |  1 |  1 |
|                                                                    |        |          |        a        |    |    |
|                                                                    |        |          |        a        |    |    |
|                                                                    |        |          |        a        |    |    |
|                                                                    |        |          |        a        |    |    |
| 0x  mm  mm  mm  mm  mm  mm  mm  mm  mm  mm  mm  mm  mm  mm  mm  mm |     16 |     2    |        a        |  1 |  1 |
|                                                                    |        |          |        a        |    |    |
|                                                                    |        |          |        a        |    |    |
| 0x  nn  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  .. |      1 |     3    |        a        |  1 |  1 |
|                                                                    |        |          |        a        |    |    |
| 0x  pp  pp  pp  pp  pp  pp  pp  pp  ..  ..  ..  ..  ..  ..  ..  .. |      8 |     4    |        a        |  1 |  1 |
|                                                                    |        |          |        a        |    |    |
|                                                                    |        |          |        a        |    |    |
|                                                                    |        |          |        a        |    |    |
|                                                                    |        |          |        a        |    |    |
|                                                                    |        |          |        a        |    |    |
| 0x  qq  qq  qq  qq  qq  qq  qq  qq  qq  qq  qq  qq  qq  qq  qq  qq |     16 |     5    |        a        |  1 |  1 |
|                                                                    |        |          |        a        |    |    |
| 0x  rr  rr  rr  rr  rr  rr  rr  rr  rr  rr  rr  rr  rr  rr  rr  rr |     16 |     6    |        a        |  1 |  1 |
|                                                                    |        |          |        a        |    |    |
| 0x  ss  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  .. |      1 |     7    |        a        |  1 |  1 |
| 0x  tt  tt  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  .. |      2 |     8    |        a        |  1 |  1 |
|                                                                    |        |          |        a        |    |    |
|                                                                    |        |          |        a        |    |    |
|                                                                    |        |          |        a        |    |    |
|--------------------------------------------------------------------+--------+----------+-----------------+----+----|
|                                                                    |        |          |      a + 1      |    |    |
|                                                                    |        |          |                 |    |    |
| .                                 ⋮                                |        |          |                 |    |    |


NOTE. ζ must be replaced by "T" or "X".
NOTE. The rows depicted above aren't necessarily contiguous. They are the rows where

    USER_TXN_NUMBER ≡ a
    LC ≡ <true>
    Lζ ≡ <true>

NOTE. In the above "." must be interpreted as 0, while "empty" lines are irrelevant when it comes to reconstructing L_ζ(T).
NOTE. A limb such as

    0x ll ll ll ll .. .. .. .. .. .. .. .. .. .. .. ..

must be interpreted as encoding a 4-byte integer (0xllllllll) in a left aligned 16-byte integer (LIMB) given by

    LIMB  ≡  0xllllllll * 256**(12 - 4)



The subset of rows that contribute to L_ζ(T), characterized by [LC ≡ 1] ∧ [Lζ ≡ 1]:

|--------------------------------------------------------------------+--------+----------|
| LIMB                                                               | nBYTES | INDEX_Lζ |
|--------------------------------------------------------------------+-------:+:--------:|
| .   <------------      byte index within limb       ------------>  |        |          |
| .   16  15  14  13  12  11  10  9   8   7   6   5   4   3   2   1  |        |          |
| .   ↓   ↓   ↓   ↓   ↓   ↓   ↓   ↓   ↓   ↓   ↓   ↓   ↓   ↓   ↓   ↓  |        |          |
|--------------------------------------------------------------------+--------+----------|
| 0x  kk  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  .. |      1 |     0    |
| 0x  ll  ll  ll  ll  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  .. |      4 |     1    |
| 0x  mm  mm  mm  mm  mm  mm  mm  mm  mm  mm  mm  mm  mm  mm  mm  mm |     16 |     2    |
| 0x  nn  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  .. |      1 |     3    |
| 0x  pp  pp  pp  pp  pp  pp  pp  pp  ..  ..  ..  ..  ..  ..  ..  .. |      8 |     4    |
| 0x  qq  qq  qq  qq  qq  qq  qq  qq  qq  qq  qq  qq  qq  qq  qq  qq |     16 |     5    |
| 0x  rr  rr  rr  rr  rr  rr  rr  rr  rr  rr  rr  rr  rr  rr  rr  rr |     16 |     6    |
| 0x  ss  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  .. |      1 |     7    |
| 0x  tt  tt  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  .. |      2 |     8    |
|--------------------------------------------------------------------+--------+----------|



and L_ζ(T) itself:

           | kk ll ll ll ll mm mm mm mm mm mm mm mm mm mm mm
           | mm mm mm mm mm nn pp pp pp pp pp pp pp pp qq qq
           | qq qq qq qq qq qq qq qq qq qq qq qq qq qq rr rr
           | rr rr rr rr rr rr rr rr rr rr rr rr rr rr ss tt
           | tt
\end{verbatim}
\end{document}

