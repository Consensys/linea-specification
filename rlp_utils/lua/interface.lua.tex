% !TeX TS-program = lualatex
\documentclass[varwidth=\maxdimen,margin=0.5cm,multi={verbatim}]{standalone}

\usepackage{fontspec}
\directlua{luaotfload.add_fallback
   ("emojifallback",
    {
      "NotoColorEmoji:mode=harf;"
    }
   )}

\setmonofont{JetBrains Mono NL Regular}[
  RawFeature={fallback=emojifallback}
]

\usepackage{../../pkg/draculatheme}


\begin{document}
\begin{verbatim}

    ███████\  ██\       ███████\  ██\   ██\ ████████\ ██████\ ██\       ██████\        ██\            ██\                          ██████\
    ██  __██\ ██ |      ██  __██\ ██ |  ██ |\__██  __|\_██  _|██ |     ██  __██\       \__|           ██ |                        ██  __██\
    ██ |  ██ |██ |      ██ |  ██ |██ |  ██ |   ██ |     ██ |  ██ |     ██ /  \__|      ██\ ███████\ ██████\    ██████\   ██████\  ██ /  \__|██████\   ███████\  ██████\
    ███████  |██ |      ███████  |██ |  ██ |   ██ |     ██ |  ██ |     \██████\        ██ |██  __██\\_██  _|  ██  __██\ ██  __██\ ████\     \____██\ ██  _____|██  __██\
    ██  __██< ██ |      ██  ____/ ██ |  ██ |   ██ |     ██ |  ██ |      \____██\       ██ |██ |  ██ | ██ |    ████████ |██ |  \__|██  _|    ███████ |██ /      ████████ |
    ██ |  ██ |██ |      ██ |      ██ |  ██ |   ██ |     ██ |  ██ |     ██\   ██ |      ██ |██ |  ██ | ██ |██\ ██   ____|██ |      ██ |     ██  __██ |██ |      ██   ____|
    ██ |  ██ |████████\ ██ |      \██████  |   ██ |   ██████\ ████████\\██████  |      ██ |██ |  ██ | \████  |\███████\ ██ |      ██ |     \███████ |\███████\ \███████\
    \__|  \__|\________|\__|██████\\______/    \__|   \______|\________|\______/       \__|\__|  \__|  \____/  \_______|\__|      \__|      \_______| \_______| \_______|
                            \______|




|--------------------+-------------------+------------+-------------------------+--------------------------+-------------------------+--------------------------------------+----------------------------+------------------------+----------------------------------|
| Instruction        | DATA_1            | DATA_2     | DATA_3                  | DATA_4                   | DATA_5                  | DATA_6                               | DATA_7                     | DATA_8                 | Notes and shorthands             |
|--------------------+-------------------+------------+-------------------------+--------------------------+-------------------------+--------------------------------------+----------------------------+------------------------+----------------------------------|
| INTEGER            | integer_hi        | integer_lo | integer_is_nonzero      | integer_hi_is_nonzero    | rlp_prefix_required     | rlp_prefix                           | leading_limb_left_shifted  | leading_limb_byte_size |                                  |
|                    |                   |            |                         |                          |                         |                                      |                            |                        |                                  |
|                    | ✓ trusted         | ✓ trusted  | ⟦ π ⟧                   | ⟦ π ⟧                    | ⟦ π ⟧                   | ⟦ π ⟧                                | ⟦ π ⟧                      | ⟦ π ⟧                  |                                  |
|                    |                   |            |                         |                          |                         |                                      |                            |                        |                                  |
|                    |                   |            | logically equivalent to | logically equivalent to  | logically equivalent to | left aligned RLP prefix              | left shift of leading_limb | size in bytes of       | We define                        |
|                    |                   |            |                         |                          |                         | (of the integer)                     | to the 16-th byte          | leading_limb           |                                  |
|                    |                   |            |                         |                          |                         |                                      |                            |                        | integer ≡   integer_hi * 256**16 |
|                    |                   |            | .    [integer ≠ 0]      | .    [integer ≥ 256**16] | .    [integer = 0]      | If requires_rlp_prefix ≡ false:      |                            |                        | .         + integer_lo           |
|                    |                   |            |                         |                          | .  ∨ [integer ≥ 128]    | .    0                               |                            |                        |                                  |
|                    |                   |            |                         |                          |                         |                                      |                            |                        | If integer_hi ≠ 0 Then           |
|                    |                   |            |                         |                          |                         | If requires_rlp_prefix ≡ true:       |                            |                        | .   leading_limb ← integer_hi    |
|                    |                   |            |                         |                          |                         | .    128 + size_in_bytes_of_integer  |                            |                        | Else                             |
|                    |                   |            |                         |                          |                         | .    (left shifted to the 16th byte) |                            |                        | .   leading_limb ← integer_lo    |
|                    |                   |            |                         |                          |                         |                                      |                            |                        |                                  |
|                    |                   |            |                         |                          |                         | where size_in_bytes_of_integer is    |                            |                        |                                  |
|                    |                   |            |                         |                          |                         | the size in bytes of the instruc-    |                            |                        |                                  |
|                    |                   |            |                         |                          |                         | tion's input integer                 |                            |                        |                                  |
|--------------------+-------------------+------------+-------------------------+--------------------------+-------------------------+--------------------------------------+----------------------------+------------------------+----------------------------------|
| BYTE_STRING_PREFIX | bytestring_length | first_byte | is_list                 | has_rlp_prefix           | rlp_prefix              | is_nonempty                          |                            | nBytes                 |
|                    |                   |            |                         |                          |                         |                                      |                            |                        |
|                    | ✓ trusted         | ✓ trusted  | ⟦ π ⟧                   | ⟦ π ⟧                    | ⟦ π ⟧                   | ⟦ π ⟧                                |                            | ⟦ π ⟧                  |
|                    |                   |            |                         |                          |                         |                                      |                            |                        |
|                    |                   |            |                         |                          |                         |                                      |                            |                        |
|                    |                   |            |                         |                          |                         |                                      |                            |                        |
|--------------------+-------------------+------------+-------------------------+--------------------------+-------------------------+--------------------------------------+----------------------------+------------------------|
| DATA_PRICING       | limb              | nBytes     |                         |                          | number_of_zero_bytes    |                                      | number_of_nonzero_bytes    | first_byte             |
|                    |                   |            |                         |                          |                         |                                      |                            |                        |
|                    | ✓ trusted         | ✓ trusted  |                         |                          | ⟦ π ⟧                   |                                      | ⟦ π ⟧                      | ⟦ π ⟧                  |
|                    |                   |            |                         |                          |                         |                                      |                            |                        |
|                    |                   |            |                         |                          |                         |                                      |                            |                        |
|                    |                   |            |                         |                          |                         |                                      |                            |                        |
|--------------------+-------------------+------------+-------------------------+--------------------------+-------------------------+--------------------------------------+----------------------------+------------------------+----------------------------------|
| BYTES32            | data_hi           | data_lo    |                         |                          |                         |                                      |                            |                        | The purpose of this RLP_UTILS    |
|                    |                   |            |                         |                          |                         |                                      |                            |                        | is to check that both limbs      |
|                    | ✓ trusted         | ✓ trusted  |                         |                          |                         |                                      |                            |                        | making up the BYTES32 object are |
|                    |                   |            |                         |                          |                         |                                      |                            |                        | indeed "small" as expected       |
|                    |                   |            |                         |                          |                         |                                      |                            |                        |                                  |
|                    |                   |            |                         |                          |                         |                                      |                            |                        |                                  |
|--------------------+-------------------+------------+-------------------------+--------------------------+-------------------------+--------------------------------------+----------------------------+------------------------+----------------------------------|

\end{verbatim}
\end{document}
