% !TeX TS-program = lualatex
\documentclass[varwidth=\maxdimen,margin=0.5cm,multi={verbatim}]{standalone}

\usepackage{fontspec}
\directlua{luaotfload.add_fallback
   ("emojifallback",
    {
      "NotoColorEmoji:mode=harf;"
    }
   )}

\usepackage{../../../../../../pkg/draculatheme}

\setmonofont{JetBrains Mono NL Regular}[
  RawFeature={fallback=emojifallback}
]

\begin{document}
\begin{verbatim}

â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\  â–ˆâ–ˆ\       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\                                                                                  â–ˆâ–ˆ\ â–ˆâ–ˆ\
â–ˆâ–ˆ  __â–ˆâ–ˆ\ â–ˆâ–ˆ |     â–ˆâ–ˆ  __â–ˆâ–ˆ\                                                                                 \__|â–ˆâ–ˆ |
â–ˆâ–ˆ |  â–ˆâ–ˆ |â–ˆâ–ˆ |     â–ˆâ–ˆ /  \__|       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\â–ˆâ–ˆâ–ˆâ–ˆ\   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\  â–ˆâ–ˆ\ â–ˆâ–ˆ | â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\ |â–ˆâ–ˆ |     \â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\        â–ˆâ–ˆ  __â–ˆâ–ˆ\ â–ˆâ–ˆ  __â–ˆâ–ˆ\ â–ˆâ–ˆ  __â–ˆâ–ˆ\ â–ˆâ–ˆ  _____|â–ˆâ–ˆ  __â–ˆâ–ˆ\ â–ˆâ–ˆ  _â–ˆâ–ˆ  _â–ˆâ–ˆ\ â–ˆâ–ˆ  __â–ˆâ–ˆ\ â–ˆâ–ˆ |â–ˆâ–ˆ |â–ˆâ–ˆ  __â–ˆâ–ˆ\ â–ˆâ–ˆ  _____|
â–ˆâ–ˆ  __â–ˆâ–ˆ\ â–ˆâ–ˆ |      \____â–ˆâ–ˆ\       â–ˆâ–ˆ /  â–ˆâ–ˆ |â–ˆâ–ˆ |  \__|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ |â–ˆâ–ˆ /      â–ˆâ–ˆ /  â–ˆâ–ˆ |â–ˆâ–ˆ / â–ˆâ–ˆ / â–ˆâ–ˆ |â–ˆâ–ˆ /  â–ˆâ–ˆ |â–ˆâ–ˆ |â–ˆâ–ˆ |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ |\â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\
â–ˆâ–ˆ |  â–ˆâ–ˆ |â–ˆâ–ˆ |     â–ˆâ–ˆ\   â–ˆâ–ˆ |      â–ˆâ–ˆ |  â–ˆâ–ˆ |â–ˆâ–ˆ |      â–ˆâ–ˆ   ____|â–ˆâ–ˆ |      â–ˆâ–ˆ |  â–ˆâ–ˆ |â–ˆâ–ˆ | â–ˆâ–ˆ | â–ˆâ–ˆ |â–ˆâ–ˆ |  â–ˆâ–ˆ |â–ˆâ–ˆ |â–ˆâ–ˆ |â–ˆâ–ˆ   ____| \____â–ˆâ–ˆ\
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\\â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  |      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  |â–ˆâ–ˆ |      \â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\ \â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\ \â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  |â–ˆâ–ˆ | â–ˆâ–ˆ | â–ˆâ–ˆ |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  |â–ˆâ–ˆ |â–ˆâ–ˆ |\â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  |
\_______/ \________|\______/       â–ˆâ–ˆ  ____/ \__|       \_______| \_______| \______/ \__| \__| \__|â–ˆâ–ˆ  ____/ \__|\__| \_______|\_______/
                                   â–ˆâ–ˆ |                                                            â–ˆâ–ˆ |
                                   â–ˆâ–ˆ |                                                            â–ˆâ–ˆ |
                                   \__|                                                            \__|

  _____   ____ _____ _   _ _______ ________      __     _     _    _      _______ _____ ____  _   _
 |  __ \ / __ \_   _| \ | |__   __|  ____\ \    / /\   | |   | |  | |  /\|__   __|_   _/ __ \| \ | |
 | |__) | |  | || | |  \| |  | |  | |__   \ \  / /  \  | |   | |  | | /  \  | |    | || |  | |  \| |
 |  ___/| |  | || | | . ` |  | |  |  __|   \ \/ / /\ \ | |   | |  | |/ /\ \ | |    | || |  | | . ` |
 | |    | |__| || |_| |\  |  | |  | |____   \  / ____ \| |___| |__| / ____ \| |   _| || |__| | |\  |_
 |_|     \____/_____|_| \_|  |_|  |______|   \/_/    \_\______\____/_/    \_\_|  |_____\____/|_| \_( )
                             ______                                                                |/
                            |______|
   _____ __          _____  _____      _____ __ __  __  _____ __  __
  / ____/_ |   /\   |  __ \|  __ \    / ____/_ |  \/  |/ ____|  \/  |
 | |  __ | |  /  \  | |  | | |  | |  | |  __ | | \  / | (___ | \  / |
 | | |_ || | / /\ \ | |  | | |  | |  | | |_ || | |\/| |\___ \| |\/| |
 | |__| || |/ ____ \| |__| | |__| |  | |__| || | |  | |____) | |  | |_
  \_____||_/_/    \_\_____/|_____( )  \_____||_|_|  |_|_____/|_|  |_( )
                                 |/                                 |/

   _____ ___           _____  _____      _____ ___  __  __  _____ __  __
  / ____|__ \    /\   |  __ \|  __ \    / ____|__ \|  \/  |/ ____|  \/  |
 | |  __   ) |  /  \  | |  | | |  | |  | |  __   ) | \  / | (___ | \  / |
 | | |_ | / /  / /\ \ | |  | | |  | |  | | |_ | / /| |\/| |\___ \| |\/| |
 | |__| |/ /_ / ____ \| |__| | |__| |  | |__| |/ /_| |  | |____) | |  | |_
  \_____|____/_/    \_\_____/|_____( )  \_____|____|_|  |_|_____/|_|  |_( )
                                   |/                                   |/

  _____        _____ _____  _____ _   _  _____   _____ _    _ ______ _____ _  __
 |  __ \ /\   |_   _|  __ \|_   _| \ | |/ ____| / ____| |  | |  ____/ ____| |/ /
 | |__) /  \    | | | |__) | | | |  \| | |  __ | |    | |__| | |__ | |    | ' /
 |  ___/ /\ \   | | |  _  /  | | | . ` | | |_ || |    |  __  |  __|| |    |  <
 | |  / ____ \ _| |_| | \ \ _| |_| |\  | |__| || |____| |  | | |___| |____| . \ _
 |_| /_/    \_\_____|_|  \_\_____|_| \_|\_____| \_____|_|  |_|______\_____|_|\_( )
                                            ______                             |/
                                           |______|
  __  __          _____  ______ _____ _______ ____   _____ __
 |  \/  |   /\   |  __ \|  ____|  __ \__   __/ __ \ / ____/_ |
 | \  / |  /  \  | |__) | |__  | |__) | | | | |  | | |  __ | |
 | |\/| | / /\ \ |  ___/|  __| |  ___/  | | | |  | | | |_ || |
 | |  | |/ ____ \| |    | |    | |      | | | |__| | |__| || |_
 |_|  |_/_/    \_\_|    |_|    |_|      |_|  \____/ \_____||_( )
                 ______        ______           ______       |/
                |______|      |______|         |______|
                   _
                  | |
    __ _ _ __   __| |
   / _` | '_ \ / _` |
  | (_| | | | | (_| |
   \__,_|_| |_|\__,_|


   __  __          _____  ______ _____ _______ ____   _____ ___
  |  \/  |   /\   |  __ \|  ____|  __ \__   __/ __ \ / ____|__ \
  | \  / |  /  \  | |__) | |__  | |__) | | | | |  | | |  __   ) |
  | |\/| | / /\ \ |  ___/|  __| |  ___/  | | | |  | | | |_ | / /
  | |  | |/ ____ \| |    | |    | |      | | | |__| | |__| |/ /_
  |_|  |_/_/    \_\_|    |_|    |_|      |_|  \____/ \_____|____|
                  ______        ______           ______
                 |______|      |______|         |______|




   __|   _ \   __ `__ \   __ `__ \    _ \   __ \
  (     (   |  |   |   |  |   |   |  (   |  |   |
 \___| \___/  _|  _|  _| _|  _|  _| \___/  _|  _|


|-------+--------+-----------------------------------+---------------------------------------------------------|
| Row   | Persp. |                                   |                                                         |
|-------+--------+-----------------------------------+---------------------------------------------------------|
| i     | SCEN   | SCEN/POINT_EVALUATION             | SCEN/PRC_SUCCESS âˆ¨ SCEN/PRC_FKTH âˆ¨ SCEN/PRC_FKTR â‰¡ true |
|       |        | SCEN/G1ADD                        |                                                         |
|       |        | SCEN/G1MSM                        |                                                         |
|       |        | SCEN/G2ADD                        |                                                         |
|       |        | SCEN/G2MSM                        |                                                         |
|       |        | SCEN/PAIRING_CHECK                |                                                         |
|       |        | SCEN/MAP_FP_TO_G1                 |                                                         |
|       |        | SCEN/MAP_FP_TO_G2                 |                                                         |
|-------+--------+-----------------------------------+---------------------------------------------------------|
| i + 1 | MISC   |                                   | OOBðŸš© = 1                                               |
|       |        |                                   | OOB_INST = âŸ¦OOB_INST_point_evaluationâŸ§                  |
|       |        |                                   | .          âˆ¨  âŸ¦OOB_INST_g1addâŸ§                          |
|       |        |                                   | .          âˆ¨  âŸ¦OOB_INST_g1msmâŸ§                          |
|       |        |                                   | .          âˆ¨  âŸ¦OOB_INST_g2addâŸ§                          |
|       |        |                                   | .          âˆ¨  âŸ¦OOB_INST_g2msmâŸ§                          |
|       |        |                                   | .          âˆ¨  âŸ¦OOB_INST_pairing_checkâŸ§                  |
|       |        |                                   | .          âˆ¨  âŸ¦OOB_INST_map_fp_to_g1âŸ§                   |
|       |        |                                   | .          âˆ¨  âŸ¦OOB_INST_map_fp_to_g2âŸ§                   |
|       |        |                                   |                                                         |
|       |        |                                   | TRUSTED INPUTS:                                         |
|       |        |                                   | * cds                                                   |
|       |        |                                   | * r@c                                                   |
|       |        |                                   | * call_gas                                              |
|       |        |                                   |                                                         |
|       |        |                                   | JUSTIFICATION FOR:                                      |
|       |        |                                   | * (implicit) compute gas_cost                           |
|       |        |                                   | * hub_success  â‰¡  [gas_cost â‰¤ call_gas]                 |
|       |        |                                   | .                 âˆ§ [valid_cds]                         |
|       |        |                                   | * return_gas   â‰¡  hub_success ? [call_gas - gas_cost]   |
|       |        |                                   | .                             : 0                       |
|       |        |                                   | * r@c_nonzero  â‰¡  [r@c â‰  0]                             |
|       |        |                                   |                                                         |
|       |        | MMUðŸš© = hub_success               |                                                         |
|       |        | MMU_INST = <RETURN_like>          |                                                         |
|       |        |                                   |                                                         |
|       |        | ID_SCR  := CN                     |                                                         |
|       |        | SRC_OFF := CDO                    |                                                         |
|       |        | SIZE    := CDS                    |                                                         |
|       |        |                                   |                                                         |
|       |        | ID_TGT  := 1 + HUB_STAMP          |                                                         |
|       |        | TGT_OFF := 0                      |                                                         |
|       |        |                                   |                                                         |
|       |        | ram_success := 0 / 1 (prediction) |                                                         |
|-------+--------+-----------------------------------+---------------------------------------------------------|


NOTE. When describing the 'hub_success' shorthand we use âˆ§ to denote logical conjunction ('AND'), while when defining
'return_gas' we use âˆ¨ to denote the 'max' of two integers. We further use (standard) ternary operator notation

      condition ? val_T
                : val_F

to denote the integer that equals 'val_T' whenever 'condition' is 'true', and 'val_F' whenever 'condition' is 'false'.


NOTE. The BLS precompiles added with

+ EIP-4844:
    - POINT_EVALUATION
+ EIP-2537:
    - G1ADD          - G2ADD          - PAIRING_CHECK
    - G1MSM          - G2MSM
    - MAP_FP_TO_G1   - MAP_FP_TO_G2

all have the nice-to-have property that providing them with empty call data, and more generally: call data that isn't the right
(prescribed) size in bytes or a (nonzero) multiple of some reference size, results in a failure (FAILURE_KNOWN_TO_HUB in the
way we arithmetize things) of the precompile, and thus the precompile burning all provided gas, clearing out its caller's
return data, and outputting ZERO onto the caller's stack.

\end{verbatim}
\end{document}
