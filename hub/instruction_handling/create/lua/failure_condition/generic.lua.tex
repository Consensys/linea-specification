% !TeX TS-program = lualatex
\documentclass[varwidth=\maxdimen,margin=0.5cm,multi={verbatim}]{standalone}

\usepackage{fontspec}
\directlua{luaotfload.add_fallback
   ("emojifallback",
    {
      "NotoColorEmoji:mode=harf;"
    }
   )}

\setmonofont{JetBrains Mono NL Regular}[
  RawFeature={fallback=emojifallback}
]

\usepackage{../../../../../pkg/draculatheme}

\begin{document}
\begin{verbatim}

           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\      â–ˆâ–ˆâ–ˆ\  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\  â–ˆâ–ˆâ–ˆ\
          â–ˆâ–ˆ  __â–ˆâ–ˆ\ â–ˆâ–ˆ  __â–ˆâ–ˆ\ â–ˆâ–ˆ  _____|â–ˆâ–ˆ  __â–ˆâ–ˆ\\__â–ˆâ–ˆ  __|â–ˆâ–ˆ  _____|    â–ˆâ–ˆ  _|â–ˆâ–ˆ  __â–ˆâ–ˆ\  \â–ˆâ–ˆ\
          â–ˆâ–ˆ /  \__|â–ˆâ–ˆ |  â–ˆâ–ˆ |â–ˆâ–ˆ |      â–ˆâ–ˆ /  â–ˆâ–ˆ |  â–ˆâ–ˆ |   â–ˆâ–ˆ |         â–ˆâ–ˆ  /  \__/  â–ˆâ–ˆ |  \â–ˆâ–ˆ\
          â–ˆâ–ˆ |      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ |  â–ˆâ–ˆ |   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\       â–ˆâ–ˆ |    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  |   â–ˆâ–ˆ |
          â–ˆâ–ˆ |      â–ˆâ–ˆ  __â–ˆâ–ˆ< â–ˆâ–ˆ  __|   â–ˆâ–ˆ  __â–ˆâ–ˆ |  â–ˆâ–ˆ |   â–ˆâ–ˆ  __|      â–ˆâ–ˆ |   â–ˆâ–ˆ  ____/    â–ˆâ–ˆ |
          â–ˆâ–ˆ |  â–ˆâ–ˆ\ â–ˆâ–ˆ |  â–ˆâ–ˆ |â–ˆâ–ˆ |      â–ˆâ–ˆ |  â–ˆâ–ˆ |  â–ˆâ–ˆ |   â–ˆâ–ˆ |         \â–ˆâ–ˆ\   â–ˆâ–ˆ |        â–ˆâ–ˆ  |
          \â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  |â–ˆâ–ˆ |  â–ˆâ–ˆ |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\ â–ˆâ–ˆ |  â–ˆâ–ˆ |  â–ˆâ–ˆ |   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\     \â–ˆâ–ˆâ–ˆ\ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\ â–ˆâ–ˆâ–ˆ  /
           \______/ \__|  \__|\________|\__|  \__|  \__|   \________|      \___|\________|\___/


               _|        _)  |                                                | _)  |   _)
              |     _` |  |  |  |   |   __|  _ \       __|   _ \   __ \    _` |  |  __|  |   _ \   __ \
              __|  (   |  |  |  |   |  |     __/      (     (   |  |   |  (   |  |  |    |  (   |  |   |
             _|   \__,_| _| _| \__,_| _|   \___|     \___| \___/  _|  _| \__,_| _| \__| _| \___/  _|  _|

                                     _)  |  |                                    |
                          \ \  \   /  |  |  |       __|  _ \ \ \   /  _ \   __|  __|
                           \ \  \ /   |  |  |      |     __/  \ \ /   __/  |     |
                            \_/\_/   _| _| _|     _|   \___|   \_/  \___| _|    \__|


|-----------+--------+------------------------------------------------+-------------------------------------------------------------+-----------+-----------|
| Row index | Persp. | Actions                                        | Notes                                                       | DOM_STAMP | SUB_STAMP |
|:---------:+--------+------------------------------------------------+-------------------------------------------------------------+-----------+-----------|
|   i - 2   | STACK  |                                                | required:                                                   |
|   i - 1   | STACK  |                                                | * stack/STATICX â‰¡ 0                                         |
|     Â      |        |                                                | * stack/MAXCSX  â‰¡ 0                                         |
|     Â      |        |                                                | * stack/MXPX    â‰¡ 0                                         |
|     Â      |        |                                                | * stack/OOGX    â‰¡ 0                                         |
|     Â      |        |                                                | .      => XAHOY â‰¡ 0                                         |
|     Â      |        | stack/HASHINFOðŸš© â‰¡ trigger_HASHINFO            |                                                             |
|     Â      |        |                                                |                                                             |
|     Â      |        | trigger_HASHINFO â‰¡   [size â‰  0]                |                                                             |
|     Â      |        | .                  âˆ§ is_CREATE2                |                                                             |
|     Â      |        |                                                | Provides:                                                   |
|     Â      |        |                                                | * init_code_hash                                            |
|-----------+--------+------------------------------------------------+-------------------------------------------------------------|
|     iÂ     | SCEN   | ï„¦ CREATE/failure_condition â‰¡ 1                 |                                                             |
|     Â      |        |                                                |                                                             |
|     Â      |        |                                                | Impose that:                                                |
|     Â      |        |                                                | .   ï„¦ CREATE/EXCEPTION         â‰¡ XAHOY â‰¡ 0                  |
|     Â      |        |                                                | .   ï„¦ CREATE/ABORT             â‰¡ OOB_aborting_condition     |
|     Â      |        |                                                | .   ï„¦ CREATE/failure_condition â‰¡ OOB_failure_condition      |
|     Â      |        |                                                | .   ï„¦ CREATE/creator_context_will_revert â‰¡ CN_WILL_REVERT   |
|-----------+--------+------------------------------------------------+-------------------------------------------------------------|
|   i + 1   | CON    | readContextData( current context )             |                                                             |
|     Â      |        |                                                |                                                             |
|     Â      |        | Impose that:                                   |                                                             |
|     Â      |        | .    context/IS_STATIC = stack/STATICX         |                                                             |
|     Â      |        |                                                | Provides:                                                   |
|     Â      |        |                                                | * con/CALL_STACK_DEPTH                                      |
|     Â      |        |                                                | * con/ACCOUNT_ADDRESS  (I_a)                                |
|     Â      |        |                                                |                                                             |
|     Â      |        |                                                | Implicitly:                                                 |
|     Â      |        |                                                | .   context/IS_STATIC = 0                                   |
|-----------+--------+------------------------------------------------+-------------------------------------------------------------|
|   i + 2   | MISC   | misc/MXPðŸš© â‰¡ 1                                 |                                                             |
|     Â      |        |                                                | Provides:                                                   |
|     Â      |        |                                                | * mxp/MXPX                                                  |
|     Â      |        |                                                | * mxp/MXP_GAS                                               |
|     Â      |        |                                                | * mxp/MXP_S1NZNOMXPX                                        |
|           |        | misc/STPðŸš© â‰¡ 1                                 |                                                             |
|     Â      |        |                                                | Provides:                                                   |
|     Â      |        |                                                | * stp/OOGX                                                  |
|     Â      |        |                                                | * stp/UPFRONT_GAS_COST                                      |
|     Â      |        |                                                | * stp/63_64_ths                                             |
|           |        | misc/OOBðŸš© â‰¡ 1                                 |                                                             |
|     Â      |        |                                                | Provides:                                                   |
|     Â      |        |                                                | * OOB_aborting_condition                                    |
|     Â      |        |                                                | * OOB_failure_condition                                     |
|           |        | misc/MMUðŸš©  â‰¡ trigger_MMU                      |                                                             |
|     Â      |        |                                                |                                                             |
|     Â      |        | trigger_MMU â‰¡   hash_init_code                 |                                                             |
|     Â      |        | .             + hash_init_code_and_send_to_ROM |                                                             |
|     Â      |        | .             + send_init_code_to_ROM          |                                                             |
|     Â      |        |                                                |                                                             |
|     Â      |        | hash_init_code â‰¡   [size â‰  0]                  |                                                             |
|     Â      |        | .                âˆ§ is_CREATE2                  |                                                             |
|     Â      |        | hash_init_code_and_send_to_ROM â‰¡ 0             |                                                             |
|     Â      |        | send_init_code_to_ROM          â‰¡ 0             |                                                             |
|     Â      |        |                                                |                                                             |
|     Â      |        |                                                |                                                             |
|     Â      |        | Impose that:                                   |                                                             |
|     Â      |        | .    misc/mxp/MXPX = stack/MXPX                |                                                             |
|     Â      |        | .    misc/stp/OOGX = stack/OOGX                |                                                             |
|     Â      |        |                                                |                                                             |
|     Â      |        |                                                | Implicitly:                                                 |
|     Â      |        |                                                | .   misc/mxp/MXPX = 0                                       |
|     Â      |        |                                                | .   misc/stp/OOGX = 0                                       |
|     Â      |        |                                                | .   OOB_aborting_condition = 0                              |
|     Â      |        |                                                | .   OOB_failure_condition  = 1                              |
|-----------+--------+------------------------------------------------+-------------------------------------------------------------+-----------+-----------|
|   i + 3   | ACC    | Load account with address I_a                  |                                                             | Ï„ âˆ™ h + 0 | 0         |
|     Â      |        | Compute deployment address                     |                                                             |           |           |
|     Â      |        | nonce += 1                                     |                                                             |           |           |
|     Â      |        | <SAME EVERYTHING ELSE>                         |                                                             |           |           |
|     Â      |        |                                                | Provides:                                                   |           |           |
|     Â      |        |                                                | * acc/BALANCE                                               |           |           |
|     Â      |        |                                                | * acc/DEPLOYMENT_ADDRESS â‰¡ Î´                                |           |           |
|     Â      |        |                                                |                                                             |           |           |
|     Â      |        |                                                | Implicitly:                                                 |           |           |
|     Â      |        |                                                | .   [con/CALL_STACK_DEPTH â‰  1024]  âˆ§  [acc/BALANCE â‰¥ value] |           |           |
|     Â      |        |                                                | .   (<== this triggers OOB_aborting_condition â‰¡ 0)          |           |           |
|-----------+--------+------------------------------------------------+-------------------------------------------------------------+-----------+-----------|
|   i + 4   | ACC    | Read account with address Î´                    |                                                             | Ï„ âˆ™ h + 1 | 0         |
|     Â      |        | warmth â†‘                                       |                                                             |           |           |
|     Â      |        | <SAME EVERYTHING ELSE>                         |                                                             |           |           |
|     Â      |        |                                                | Provides:                                                   |           |           |
|     Â      |        |                                                | * acc/NONCE                                                 |           |           |
|     Â      |        |                                                | * acc/HAS_CODE                                              |           |           |
|-----------+--------+------------------------------------------------+-------------------------------------------------------------+-----------+-----------|
|   i + 5   | TBD    |
|-----------+--------|

NOTE. We use the following shorthands

        * h â‰¡ HUB_STAMP

\end{verbatim}
\end{document}
