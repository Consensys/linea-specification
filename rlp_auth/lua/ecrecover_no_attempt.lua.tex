% !TeX TS-program = lualatex
\documentclass[varwidth=\maxdimen,margin=0.5cm,multi={verbatim}]{standalone}

\usepackage{fontspec}
\directlua{luaotfload.add_fallback ("emojifallback", { "NotoColorEmoji:mode=harf;" })}

\setmonofont{JetBrains Mono NL Regular}[RawFeature={fallback=emojifallback}]

\usepackage{../../pkg/draculatheme}

\begin{document}
\begin{verbatim}




 ██████\                                                ██\                ██\     ██\
██  __██\                                               ██ |               ██ |    \__|
██ /  \__| ██████\  ██████\████\   ██████\  ██\   ██\ ██████\    ██████\ ██████\   ██\  ██████\  ███████\   ███████\
██ |      ██  __██\ ██  _██  _██\ ██  __██\ ██ |  ██ |\_██  _|   \____██\\_██  _|  ██ |██  __██\ ██  __██\ ██  _____|
██ |      ██ /  ██ |██ / ██ / ██ |██ /  ██ |██ |  ██ |  ██ |     ███████ | ██ |    ██ |██ /  ██ |██ |  ██ |\██████\
██ |  ██\ ██ |  ██ |██ | ██ | ██ |██ |  ██ |██ |  ██ |  ██ |██\ ██  __██ | ██ |██\ ██ |██ |  ██ |██ |  ██ | \____██\
\██████  |\██████  |██ | ██ | ██ |███████  |\██████  |  \████  |\███████ | \████  |██ |\██████  |██ |  ██ |███████  |
 \______/  \______/ \__| \__| \__|██  ____/  \______/    \____/  \_______|  \____/ \__| \______/ \__|  \__|\_______/
                                  ██ |
                                  ██ |
                                  \__|


                _____ ____ ____  _____ ____ _____     _______ ____
  _ __   ___   | ____/ ___|  _ \| ____/ ___/ _ \ \   / / ____|  _ \
 | '_ \ / _ \  |  _|| |   | |_) |  _|| |  | | | \ \ / /|  _| | |_) |
 | | | | (_) | | |__| |___|  _ <| |__| |__| |_| |\ V / | |___|  _ <
 |_| |_|\___/  |_____\____|_| \_\_____\____\___/  \_/  |_____|_| \_\

        _   _                       _                         _
   __ _| |_| |_ ___ _ __ ___  _ __ | |_   _ __ ___   __ _  __| | ___
  / _` | __| __/ _ \ '_ ` _ \| '_ \| __| | '_ ` _ \ / _` |/ _` |/ _ \
 | (_| | |_| ||  __/ | | | | | |_) | |_  | | | | | | (_| | (_| |  __/
  \__,_|\__|\__\___|_| |_| |_| .__/ \__| |_| |_| |_|\__,_|\__,_|\___|
                             |_|

|-------+-------+-------+-------+--------+------------------------------------+-----------+------------------------------------+-------------------------------------------+----------------------|
| CMPTN | MACRO | XTERN | UTILS | row    | computation                        | mandatory | result                             | derived                                   | god given            |
|:-----:+:-----:+:-----:+:-----:+:-------+------------------------------------+:---------:+------------------------------------+:------------------------------------------+----------------------|
| CMPTN |       |       |       | i - 13 | tuple.chain_id ∈ ℕ_256             |     ✓     |                                    |                                           |
| CMPTN |       |       |       | i - 12 | tuple.nonce    ∈ ℕ_64              |     ✓     |                                    |                                           |
| CMPTN |       |       |       | i - 11 | tuple.address  ∈ 𝔹_20              |     ✓     | (all required to succeed)          |                                           |
| CMPTN |       |       |       | i - 10 | tuple.sig_y    ∈ ℕ_8               |     ✓     |                                    |                                           |
| CMPTN |       |       |       | i - 9  | tuple.sig_r    ∈ ℕ_256             |     ✓     |                                    |                                           |
| CMPTN |       |       |       | i - 8  | tuple.sig_s    ∈ ℕ_256             |     ✓     |                                    |                                           |
|-------+-------+-------+-------+--------+------------------------------------+-----------+------------------------------------+-------------------------------------------|
| CMPTN |       |       |       | i - 7  | tuple.chain_id == 0                |           | ✨  chain_id_is_0                  |
| CMPTN |       |       |       | i - 6  | tuple.chain_id == network_chain_id |           | ✨  chain_id_is_β                  |
|-------+-------+-------+-------+--------+------------------------------------+-----------+------------------------------------+-------------------------------------------|
|       |       |       |       |        |                                    |           |                                    | ✨  chain_id_is_0_or_β ≡                  |
|       |       |       |       |        |                                    |           |                                    | .     chain_id_is_0                       |
|       |       |       |       |        |                                    |           |                                    | .     ∨ chain_id_is_β                     |
|-------+-------+-------+-------+--------+------------------------------------+-----------+------------------------------------+-------------------------------------------|
| CMPTN |       |       |       | i - 5  | tuple.nonce < EIP_2681_MAX_NONCE   |           | ✨  nonce_satisfies_EIP_2681_bound |
| CMPTN |       |       |       | i - 4  | tuple.sig_s ≤ secpk1_256n / 2      |           | ✨  sig_s_is_non_malleable         |
|-------+-------+-------+-------+--------+------------------------------------+-----------+------------------------------------+-------------------------------------------|
|       |       |       |       |        |                                    |           |                                    | ✨  ecrecover_attempt_expression ≡        |
|       |       |       |       |        |                                    |           |                                    | .     chain_id_is_0_or_β                  |
|       |       |       |       |        |                                    |           |                                    | .     ∧ nonce_satisfies_EIP_2681_bound    |
|       |       |       |       |        |                                    |           |                                    | .     ∧ sig_s_is_non_malleable            |
|   ✓   |       |       |       |        |                                    |           |                                    | .   ≡ ❌                                  |
|-------+-------+-------+-------+--------+------------------------------------+-----------+------------------------------------+-------------------------------------------|
| CMPTN |       |       |       | i - 3  | tuple.nonce == authority.nonce     |           | ✨  nonce_equals_authority_nonce   | MEANINGFUL IFF ecrecover_attempt ≡ <true> |
| CMPTN |       |       |       | i - 2  | tuple.address == sender_address    |           | ✨  authority_is_sender            | MEANINGFUL IFF ecrecover_attempt ≡ <true> |
| CMPTN |       |       |       | i - 1  | tuple.address == Address.ZERO      |           | ✨  address_is_zero                |                                           |
|-------+-------+-------+-------+--------+------------------------------------+-----------+------------------------------------+-------------------------------------------|
|       | MACRO |       |       | i      | ∅                                  |           |                                    |
|-------+-------+-------+-------+--------+------------------------------------+-----------+------------------------------------+-------------------------------------------+----------------------|
|       |       |       |       |        |                                    |           |                                    |                                           | ✅  tuple.chain_id   |
|       |       |       |       |        |                                    |           |                                    |                                           | ✅  tuple.nonce      |
|       |       |       |       |        |                                    |           |                                    |                                           | ✅  tuple.address    |
|       |       |       |       |        |                                    |           |                                    |                                           | ✅  tuple.sig_y      |
|       |       |       |       |        |                                    |           |                                    |                                           | ✅  tuple.sig_r      |
|       |       |       |       |        |                                    |           |                                    |                                           | ✅  tuple.sig_s      |
|-------+-------+-------+-------+--------+------------------------------------+-----------+------------------------------------+-------------------------------------------+----------------------|
|       |       | XTERN |       | i + 1  | ∅                                  |           |                                    |
|-------+-------+-------+-------+--------+------------------------------------+-----------+------------------------------------+-------------------------------------------+----------------------|
|       |       |       |       |        |                                    |           |                                    |                                           | ✅  network_chain_id |
|       |       |       |       |        |                                    |           |                                    |                                           | ✅  sender_address   | |-------+-------+-------+-------+--------+------------------------------------+-----------+------------------------------------+-------------------------------------------+----------------------|
|-------+-------+-------+-------+--------|
| CMPTN |       |       |       | i + 2  |
|-------+-------+-------+-------+--------|


Notes.
- ecrecover_attempt_expression ≡ ❌ dictates that no attempt is made at ECRECOVER-ing the authority address
- ecrecover_success ≡ ❌ follows automatically
	- no HUB call is made
	- no KECCAK call is made for the new code hash

\end{verbatim}
\end{document}
