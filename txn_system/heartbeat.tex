The heartbeat is very standard.
We first deal with the perspective flags:
\begin{enumerate}
	\item we require that
		\begin{enumerate}
		        \item $\locFlagSum _{i}$ be binary
		        \item $\locFlagSum _{0} = 0$
		        \item \If $\locFlagSum _{i} = 0$ \Then
				\[
					\left\{ \begin{array}{lclr}
						\ct            _{i}      & = & 0 & (\trash) \\
						\maxCt         _{i}      & = & 0 & (\trash) \\
						\ct            _{i  + 1} & = & 0 & (\trash) \\
						\isComputation _{i  + 1} & = & 0 \\
					\end{array} \right.
				\]
		        \item \If $\locFlagSum _{i} = 1$ \Then $\locFlagSum _{i + 1} = 1$
		\end{enumerate}
\end{enumerate}
Next we deal with $\blockNumber$:
\begin{enumerate}[resume]
	\item $\blockNumber _{0} = 0$
	\item $\blockNumber _{i + 1} \in \{ \blockNumber _{i}, \blockNumber _{i} + 1 \}$
	\item \If $\blockNumber _{i} =    0$ \Then $\locFlagSum _{i} = 0$
	\item \If $\blockNumber _{i} \neq 0$ \Then $\locFlagSum _{i} = 1$
	\item \If $\blockNumber _{i} \neq \blockNumber _{i - 1}$ \Then $\isMacro _{i} = 1$ (\trash)
\end{enumerate}
We now deal with \ct{} and \maxCt{}:
\begin{enumerate}[resume]
	\item \If $\locTransitionSum _{i} = 1$ \Then $\ct _{i  + 1} = 0$
	\item \If $\locFlagSum _{i} = 1$ \Then
		\begin{enumerate}
			\item \If $\ct _{i} \neq \maxCt _{i}$ \Then $\ct _{i + 1} = 1 + \ct _{i}$
			\item \If $\ct _{i} =    \maxCt _{i}$ \Then $\locTransitionSum _{i} = 1$
		\end{enumerate}
	\item \If $\isMacro _{i} = 1$ \Then
		\begin{enumerate}
			\item $\maxCt         _{i} = 0$
			\item $\maxCt         _{i  + 1} = \locCtMaxSum _{i}$
			\item $\isComputation _{i + 1} = 1$
		\end{enumerate}
	\item we impose finalization constraints
		\[
			\left\{ \begin{array}{lcl}
				\isComputation _{N} & = & 1           \\
				\ct _{N}            & = & \maxCt _{N} \\
			\end{array} \right.
		\]
\end{enumerate}
