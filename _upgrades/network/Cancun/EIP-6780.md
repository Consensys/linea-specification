# EIP-6780: SELFDESTRUCT only in same transaction

## Impact

This will impact deployments and SELFDESTRUCT:
- TX_INIT (for deployment transactions)
- any CREATE/CREATE2 will have to log its ABS_TX_NUM of the current moment
- the account/ perspective (we need a new field "deployed in transaction X"
- the processing of the SELFDESTRUCT opcode (in particular the final account wiping row will depend on whether or not the contract in question was deployed in the same transaction or not.)

## Notes

Read through
https://hackmd.io/@vbuterin/selfdestruct

## Test vectors

- interaction with CREATE (there should be some tests already)
- multitransaction test with DEPLOYMENT and CREATE
