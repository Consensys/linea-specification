\newcommand{\depth}					{\col{DEPTH}}
\newcommand{\sDepth}[1]				{\prescript{}{#1}{\col{DEPTH}}}
\newcommand{\height}				{\col{HEIGHT}}
\newcommand{\HEIGHTUNDER}			{\col{HEIGHT\_UNDER}}
\newcommand{\HEIGHTOVER}			{\col{HEIGHT\_OVER}}
\newcommand{\heightUnder}			{\col{HU}}
\newcommand{\heightOver}			{\col{HO}}
\newcommand{\sHeight}[1]			{{\col{HEIGHT\_#1}}}
\newcommand{\sVal}[1]				{{\col{VAL\_#1}}}
\newcommand{\sValHi}[1]				{{\sVal{#1}\high}}
\newcommand{\sValLo}[1]				{{\sVal{#1}\low}}
\newcommand{\isValHi}[1]			{\imported{\sValHi{#1}}}
\newcommand{\isValLo}[1]			{\imported{\sValLo{#1}}}
\newcommand{\sPop}[1]				{\col{POP\_#1}}
\newcommand{\sStamp}[1]				{{\col{STACK}\stampSignifier\col{\_#1}}}
\newcommand{\stackItem}[1]			{\col{ITEM\_#1}}


\newcommand{\IPARAM}{\decoded{\col{INST\_PARAMETER}}}
\newcommand{\param}{\col{PARAM}}
\newcommand{\iParam}{\decoded{\col{PARAM}}}

\newcommand{\STACKINSTTYPE}{\imported{\col{STACK\_INST\_TYPE}}}
\newcommand{\stackInstType}{\imported{\col{SIT}}}

\newcommand{\ISTAMP}{\col{INSTRUCTION\_STAMP}}
\newcommand{\iStamp}{\stampCol{\col{INST}}}

\newcommand{\sInst}{\imported{\col{INST}}}

\newcommand{\PATTERN}{\decoded{\col{STACK\_PATTERN}}}
\newcommand{\pattern}{\decoded{\col{PAT}}}

\newcommand{\IARG}{\imported{\col{INSTRUCTION\_ARGUMENT}}}
\newcommand{\iArg}{\imported{\col{ARG}}}

\newcommand{\stackHeight}                      {\stackSignifier\height}
\newcommand{\stackHEIGHTUNDER}                 {\stackSignifier\HEIGHTUNDER}
\newcommand{\stackHEIGHTOVER}                  {\stackSignifier\HEIGHTOVER}
\newcommand{\stackHeightUnder}                 {\stackSignifier\heightUnder}
\newcommand{\stackHeightOver}                  {\stackSignifier\heightOver}
\newcommand{\stackItemHeight}[1]               {\stackSignifier\sHeight{#1}}
\newcommand{\stackItemVal}[1]                  {\stackSignifier\sVal{#1}}
\newcommand{\stackItemValHi}[1]                {\stackSignifier\col{VALUE\_{#1}\_HI}}
\newcommand{\stackItemValLo}[1]                {\stackSignifier\col{VALUE\_{#1}\_LO}}
\newcommand{\stackItemPop}[1]                  {\stackSignifier\sPop{#1}}
\newcommand{\stackItemStamp}[1]                {\stackSignifier\sStamp{#1}}
\newcommand{\stackInst}                        {\stackSignifier\INST}
\newcommand{\stackPushParamHi}                 {\stackSignifier\pushParamHi}
\newcommand{\stackPushParamLo}                 {\stackSignifier\pushParamLo}
\newcommand{\stackJUMPDESTINATIONVETTING}      {\stackSignifier\col{JUMP\_DESTINATION\_VETTING}}
\newcommand{\stackJumpDestinationVetting}      {\stackSignifier\col{JDV}}

\newcommand{\stackContextFirst}                {\order{\stackSignifier\col{CTXT\_FIRST}}}
\newcommand{\stackContextAgain}                {\order{\stackSignifier\col{CTXT\_AGAIN}}}
% \newcommand{\stackHeightFirst}                 {\order{\stackSignifier\col{HGHT\_FIRST}}}
% \newcommand{\stackHeightAgain}                 {\order{\stackSignifier\col{HGHT\_AGAIN}}}
\newcommand{\stackSpotFirst}                   {\order{\stackSignifier\col{SPOT\_FIRST}}}
\newcommand{\stackSpotAgain}                   {\order{\stackSignifier\col{SPOT\_AGAIN}}}

%
\newcommand{\hashInfoValHi}                    {\col{KEC\_HI}}
\newcommand{\hashInfoValLo}                    {\col{KEC\_LO}}
% \newcommand{\hashInfoSize}                     {\col{TOTAL\_SIZE}}
% micro sub-perspective:
\newcommand{\stackHashInfoFlag}                {\stackSignifier\hashInfoMod\flag}
\newcommand{\stackHashInfoValHi}               {\stackSignifier\hashInfoMod\separator\hashInfoValHi}
\newcommand{\stackHashInfoValLo}               {\stackSignifier\hashInfoMod\separator\hashInfoValLo}
% \newcommand{\stackHashInfoSize}                {\stackSignifier\hashInfoMod\separator\hashInfoSize}
%
\newcommand{\stackLogFlag}                     {\stackSignifier\logMod\flag}

%\newcommand{\emptyStackItem}[1]{\prescript{}{#1}{\texttt{EmptyStackItem}}}
\newcommand{\emptyStackItem}[1]{\texttt{emptyStackItem\_#1}}
% \newcommand{}{\texttt{}}
\newcommand{\zzSP}{\texttt{zeroItemPattern}}
\newcommand{\singleSP}{\texttt{oneItemPattern}}
\newcommand{\uzSP}{\texttt{1\_0\_Pattern}}
\newcommand{\zuSP}{\texttt{0\_1\_Pattern}}
\newcommand{\uuSP}{\texttt{1\_1\_Pattern}}
\newcommand{\duSP}{\texttt{2\_1\_Pattern}}
\newcommand{\tzSP}{\texttt{3\_0\_Pattern}}
\newcommand{\tuSP}{\texttt{3\_1\_Pattern}}
% aliases
\newcommand{\stackPattern}		{\texttt{StackPattern}}

\newcommand{\emptySP}		{\texttt{empty}\stackPattern}
\newcommand{\zeroZeroSP}	{\texttt{(0,0)-}\stackPattern}
\newcommand{\zeroOneSP}		{\texttt{(0,1)-}\stackPattern}
\newcommand{\oneZeroSP}		{\texttt{(1,0)-}\stackPattern}
\newcommand{\oneOneSP}		{\texttt{(1,1)-}\stackPattern}
\newcommand{\twoZeroSP}		{\texttt{(2,0)-}\stackPattern}
\newcommand{\twoOneSP}		{\texttt{(2,1)-}\stackPattern}
\newcommand{\threeZeroSP}	{\texttt{(3,0)-}\stackPattern}
\newcommand{\threeOneSP}	{\texttt{(3,1)-}\stackPattern}
\newcommand{\loadStoreSP}	{\texttt{loadStore}\stackPattern}
\newcommand{\swapSP}		{\texttt{swap}\stackPattern}
\newcommand{\dupSP}		{\texttt{dup}\stackPattern}
\newcommand{\logSP}		{\texttt{log}\stackPattern}
\newcommand{\copySP}		{\texttt{copy}\stackPattern}
\newcommand{\createSP}		{\texttt{create}\stackPattern}
\newcommand{\callSP}		{\texttt{call}\stackPattern}
%
\newcommand{\stdSP}{\texttt{standardPattern}}
\newcommand{\twoItemSP}{\texttt{twoItemPattern}}
\newcommand{\storageSP}{\texttt{storagePattern}}
\newcommand{\retrevSP}{\texttt{returnRevertPattern}}
\newcommand{\selfdestructSP}{\texttt{selfdestructPattern}}

\newcommand{\stackColumn}                   [1]       {\stackSignifier\col{#1}}
\newcommand{\stackInstructionDecodedColumn} [1]       {\stackColumn{\idMod\separator\col{#1}}}
\newcommand{\flagColumn}                    [1]       {\col{FLAG\_#1}}
\newcommand{\decFlag}                       [1]       {\stackInstructionDecodedColumn{\flagColumn{#1}}}


\newcommand{\decAlpha}            {\decoded{\col{ALPHA}}}
\newcommand{\decDelta}            {\decoded{\col{DELTA}}}
\newcommand{\idAlpha}             {\col{ALPHA}}
\newcommand{\idDelta}             {\col{DELTA}}
\newcommand{\idNbRemove}          {\col{nREMOVE}}
\newcommand{\idNbAdd}             {\col{nADD}}
\newcommand{\staticFlag}          {\col{STATIC}\flag}
\newcommand{\stackDecStaticFlag}  {\stackInstructionDecodedColumn{\staticFlag}}
\newcommand{\stackAlpha}          {\stackInstructionDecodedColumn{\idAlpha}}
\newcommand{\stackDelta}          {\stackInstructionDecodedColumn{\idDelta}}
\newcommand{\stackNbRemove}       {\stackInstructionDecodedColumn{\idNbRemove}}
\newcommand{\stackNbAdd}          {\stackInstructionDecodedColumn{\idNbAdd}}
% \newcommand{\stackPATTERN}        {\stackInstructionDecodedColumn{STACK\_PATTERN}}
% \newcommand{\stackPattern}        {\stackInstructionDecodedColumn{PAT}}
\newcommand{\stackSTATICGAS}      {\stackInstructionDecodedColumn{STATIC\_GAS}}
\newcommand{\stackStaticGas}      {\stackInstructionDecodedColumn{STATIC\_GAS}}


\newcommand{\PC}{\col{PROGRAM\_COUNTER}}
% \renewcommand{\pc}{\col{PC}}
%
\newcommand{\pushParam}            {\col{PUSH\_VALUE}}
\newcommand{\pushParamHi}          {\pushParam\col{\_HI}}
\newcommand{\pushParamLo}          {\pushParam\col{\_LO}}
\newcommand{\iPushParam}           {\imported{\pushParam}}
\newcommand{\decPushParam}         {\decoded{\pushParam}}
%
\newcommand{\JUMPDESTX}{\col{JUMP\_DESTINATION\_EXCEPTION}}
\newcommand{\jumpDestX}{\col{JUMPX}}
% \newcommand{}{\col{}} \PV\high
\newcommand{\iPushValHi}{\imported{\PV\high}}
\newcommand{\iPushValLo}{\imported{\PV\low}}

\newcommand{\VALUETRANSFERFLAG}{\col{VALUE\_TRANSFER\_FLAG}}
\newcommand{\valueTransferFlag}{\col{VALTF}}

\newcommand{\STATICGAS}{\col{STATIC\_GAS}}
\newcommand{\decSTATICGAS}{\decoded{\STATICGAS}}
\newcommand{\staticGas}{\STATICGAS}
\newcommand{\decStaticGas}{\decoded{\staticGas}}

\newcommand{\exponentSizeInBytes}{\col{EXPONENT\_SIZE\_IN\_BYTES}}

\newcommand{\deadAccountFlag}{\col{DEAD\_FLAG}}
\newcommand{\iExistenceFlag}{\imported{\deadAccountFlag}}

\newcommand{\hashFlag}{\col{HASH\_FLAG}}
\newcommand{\decHashFlag}{\decoded{\hashFlag}}
\newcommand{\haltingFLAG}{\col{HALTING\_FLAG}}
\newcommand{\haltingFlag}{\col{HALT}\flag}
\newcommand{\decHaltingFLAG}{\decoded{\haltingFLAG}}
\newcommand{\decHaltingFlag}{\decoded{\haltingFlag}}
\newcommand{\gasTrigger}{\col{GAS\_TRIGGER}}

\makeatletter
 
\define@cmdkey [HASH] {var} {anchorRow}   {}
\define@cmdkey [HASH] {var} {relOffset}   {}
\define@cmdkey [HASH] {var} {requestBit}  {}

\presetkeys    [HASH] {var} {
    anchorRow   = \missingParameter,
    relOffset   = \missingParameter,
    requestBit  = \missingParameter,
}{}


\newcommand{\requestHashName} {\texttt{requestHash}}
\newcommand{\requestHash} [1] {
    \setkeys[HASH]{var}{#1}
    \requestHashName _{\cmdHASH@var@anchorRow}
    \left[ \begin{array}{ll}
	\utt{Rel. row offset:} & \cmdHASH@var@relOffset \\
    \end{array} \right] }

\newcommand{\maybeRequestHashName} {\texttt{maybeRequestHash}}
\newcommand{\maybeRequestHash}   [1]   {
    \setkeys[HASH]{var}{#1}
    \maybeRequestHashName _{\cmdHASH@var@anchorRow}
    \left[ \begin{array}{ll}
	\utt{Rel. row offset:} & \cmdHASH@var@relOffset  \\
	\utt{Request bit:}     & \cmdHASH@var@requestBit \\
    \end{array} \right] }

\makeatother

\newcommand{\BALANCE}{\col{BALANCE}}
\newcommand{\CURRENTACCOUNTHASBALANCE}{\col{ACCOUNT\_HAS\_BALANCE\_FLAG}}
\newcommand{\currentAccountHasBalance}{\col{ACCHB}}

% stack
\newcommand{\STACKSTAMP}{\col{STACK\_STAMP}}
\newcommand{\stackStamp}{\stampCol{\col{STACK}}}
\newcommand{\BINSTAMP}{\col{BINARY\_STAMP}}

\newcommand{\ALUSELECTOR}{\col{ALU\_SELECTOR}}
\newcommand{\aluSelector}{\col{ALU}\selector}
\newcommand{\BINSELECTOR}{\col{BIN\_SELECTOR}}
\newcommand{\binSelector}{\col{BIN}\selector}
\newcommand{\EXPSELECTOR}{\col{EXPONENT\_SELECTOR}}
\newcommand{\expSelector}{\col{EXP}\selector}
\newcommand{\GASSELECTOR}{\col{GAS\_SELECTOR}}
\newcommand{\gasSelector}{\col{GAS}\selector}
\newcommand{\HASHINFOSELECTOR}{\col{HASH\_INFO\_SELECTOR}}
\newcommand{\hashSelector}{\col{HASH}\selector}
\newcommand{\LOGINFOSELECTOR}{\col{LOG\_INFO\_SELECTOR}}
\newcommand{\logSelector}{\col{LOG}\selector}
\newcommand{\MEMEXPSELECTOR}{\col{MEMORY\_EXPANSION\_SELECTOR}}
\newcommand{\memExpSelector}{\col{MX}\selector}
\newcommand{\MMUSELECTOR}{\col{MMU\_SELECTOR}}
\newcommand{\mmuSelector}{\col{MMU}\selector}
\newcommand{\RARESELECTOR}{\col{RARE\_CHECKS\_SELECTOR}}
\newcommand{\rareSelector}{\col{RARE}\selector}
\newcommand{\SHAVESELECTOR}{\col{SHAVE\_SELECTOR}}
\newcommand{\shaveSelector}{\col{SHAVE}\selector}
\newcommand{\STORAGESTAMP}{\col{STORAGE\_STAMP}}
\newcommand{\storageStamp}{\col{STORAGE\_STAMP}}
\newcommand{\WARMSELECTOR}{\col{WARMTH\_SELECTOR}}
\newcommand{\warmSelector}{\col{WARM}\selector}
\newcommand{\WCSELECTOR}{\col{WORD\_COMPARISON\_SELECTOR}}
\newcommand{\wcSelector}{\col{WC}\selector}

\newcommand{\stdMmuInst}{\col{STD}}

\newcommand{\nonStackRows}        {\col{NSR}}
\newcommand{\nonStackRowsCounter} {\ct\col{\_}\nonStackRows}

\newcommand{\TLI}        {\col{TWO\_LINE\_INSTRUCTION}}
\newcommand{\tli}        {\col{TLI}}
\newcommand{\tliCounter} {\ct\col{\_}\tli}
